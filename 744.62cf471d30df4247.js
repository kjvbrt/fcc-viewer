"use strict";(self.webpackChunkFCCViewer=self.webpackChunkFCCViewer||[]).push([[744],{2744:(B,d,S)=>{S.r(d),S.d(d,{drawTF2:()=>F});var E=S(8428),P=S(6982),n=S(1397),T=S(4010),y=S(2944);function s(e,a){let r=e.fSave.length,m=!0;r>6&&r!==(e.fSave[r-2]+1)*(e.fSave[r-1]+1)+6&&(r=0),r>6&&e.fXmin<e.fXmax&&e.fSave[r-6]<e.fSave[r-5]&&(e.fSave[r-5]-e.fSave[r-6])/(e.fXmax-e.fXmin)>.99999&&(m=!1);let f=Math.max(e.fNpx,2),i=Math.max(e.fNpy,2),l=!1,o=!1,_=(e.fXmax-e.fXmin)/(m?f:f-1),M=(e.fYmax-e.fYmin)/(m?i:i-1),X=m?.5:0;for(let v=0;v<i;++v)for(let t=0;t<f&&!l;++t){let x=e.fXmin+(t+X)*_,A=e.fYmin+(v+X)*M,C=0;try{C=e.evalPar(x,A)}catch{l=!0}!l&&Number.isFinite(C)&&(a||(a=(0,E.createHistogram)("TH2F",f,i)),o=!0,a.setBinContent(a.getBin(t+1,v+1),C))}let O=(l||!o)&&r>6;if(!O&&!a&&(a=(0,E.createHistogram)("TH2F",f,i)),!l&&o&&(a.fXaxis.fXmin=e.fXmin-(m?0:_/2),a.fXaxis.fXmax=e.fXmax+(m?0:_/2),a.fYaxis.fXmin=e.fYmin-(m?0:M/2),a.fYaxis.fXmax=e.fYmax+(m?0:M/2)),O){f=Math.round(e.fSave[r-2]),i=Math.round(e.fSave[r-1]),_=(e.fSave[r-5]-e.fSave[r-6])/f,M=(e.fSave[r-3]-e.fSave[r-4])/i,a||(a=(0,E.createHistogram)("TH2F",f+1,i+1)),a.fXaxis.fXmin=e.fSave[r-6]-_/2,a.fXaxis.fXmax=e.fSave[r-5]+_/2,a.fYaxis.fXmin=e.fSave[r-4]-M/2,a.fYaxis.fXmax=e.fSave[r-3]+M/2;for(let v=0,t=0;t<=i;++t)for(let x=0;x<=f;++x)a.setBinContent(a.getBin(x+1,t+1),e.fSave[v++])}a.fName="Func",a.fTitle=e.fTitle,a.fMinimum=e.fMinimum,a.fMaximum=e.fMaximum,a.fLineColor=e.fLineColor,a.fLineStyle=e.fLineStyle,a.fLineWidth=e.fLineWidth,a.fFillColor=e.fFillColor,a.fFillStyle=e.fFillStyle,a.fMarkerColor=e.fMarkerColor,a.fMarkerStyle=e.fMarkerStyle,a.fMarkerSize=e.fMarkerSize;const L=(0,E.BIT)(9);return a.fBits|=L,a}function F(e,a,r){(0,n.proivdeEvalPar)(a);let m=s(a);if(!m)return;let f=new y.pc(r);return("SAMECOLORZ"==(r=f.empty()?"cont3":"SAME"===f.opt?"cont2 same":f.opt)||"SAMECOLOR"==r||"SAMECOLZ"==r)&&(r="SAMECOL"),0==r.indexOf("SAME")&&((0,T.SO)(e)||(r="A_ADJUST_FRAME_"+r.slice(4))),P.TH2Painter.draw(e,m,r).then(i=>(i.tf2_typename=a._typename,i.updateObject=function(l){return!(!l||this.tf2_typename!=l._typename||((0,n.proivdeEvalPar)(l),s(l,this.getHisto()),0))},i))}}}]);